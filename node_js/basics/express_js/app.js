// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    //      Import Files Ans Set Data Starts
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  
    const path = require('path');

    const express = require('express');

    const rootDir = require('./utils/path');

    const bodyParser = require('body-parser');
   

    const app = express();
    app.use(bodyParser.urlencoded({ extended: false }));
    app.use(express.static(path.join(rootDir, 'public')));


    // const db = require('./mysql/database');
    // db.execute('select * from products')
    // .then( (result) => {
    //     console.log(result);
    // } )
    // .catch( (err) => {
    //     console.log(err);
    // } );

// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    //      Import Files Ans Set Data Starts
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  


// -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    // View Engine Configuration Starts
// -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    // EJS Configuration starts
    // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

        app.set('view engine', 'ejs');

        app.set('views', path.join(rootDir, 'views'));

    // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    // EJS Configuration starts
    // -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    // View Engine Configuration Ends
// -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------



// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                //  Import Routes Starts
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    const adminRoutes = require('./routes/admin');

    const shopRoutes = require('./routes/shop');

// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                    //  Import Routes ends
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                        //      Middleware Starts
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

    app.use('/admin', adminRoutes);

    app.use(shopRoutes);

    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                //      Controllers Starts
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
        
        const errorController = require('./controllers/errors');

        app.use('/', errorController.get404Page);

    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                            //      Controllers Ends
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
     
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                            //      Middleware Ends
// ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

app.listen(3000);